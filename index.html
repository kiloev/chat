<html>
<head>
<title>Chat</title>
</head>
<body>
<script>
window.c = (() => {
  const ws = new WebSocket('wss://712lqnmxf8.execute-api.ap-southeast-1.amazonaws.com/dev');
  ws.onopen = () => {
    console.info('Status: Connected');
  };
  ws.onclose = () => {
    console.info('Status: Disconnected');
  };
  ws.onmessage = (e) => {
    console.log(`Chat: ${e.data}`);
  };

  // Run c('Hello!') in console to send message
  return (message) => {
    ws.send(JSON.stringify({ action: 'sendMessage', data: message }));
  };
})();
</script>
</body>
</html>
